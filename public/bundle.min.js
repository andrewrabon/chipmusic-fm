!function(n){var t={};function e(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,e),s.l=!0,s.exports}e.m=n,e.c=t,e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:o})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var s in n)e.d(o,s,function(t){return n[t]}.bind(null,s));return o},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}([function(n,t,e){n.exports=e(1)},function(n,t,e){"use strict";e.r(t);class o extends HTMLElement{constructor(n){super(n),this.href=n.href,this.songTitle=n.songTitle,this.songArtist=n.songArtist,this.playCount=n.playCount,this.likeCount=n.likeCount}connectedCallback(){this.innerHTML=`\n      <style>\n        .song-card {\n          position: absolute;\n          top: calc(50vh - 167px);\n          right: 1rem;\n          left: 1rem;\n          display: block;\n          height: 300px;\n          background-size: cover;\n          border-radius: 5px;\n          box-shadow: 0px 1px 5px #aaa;\n        }\n        .song-card__bottom {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          background: rgba(255, 255, 255, 0.8);\n          border-radius: 0 0 5px 5px;\n        }\n        .song-card__bottom h1,\n        .song-card__bottom h2,\n        .song-card__bottom h3 {\n          margin: 1rem;\n          border: 0;\n          background: transparent;\n          text-align: center;\n        }\n        .song-card__bottom h2,\n        .song-card__bottom h3 {\n          padding: 0;\n        }\n        .song-card__bottom h1 {\n          margin-top: 1.5rem;\n        }\n        @media screen and (min-width: 600px) {\n          .song-card {\n            top: calc(50vh - 179px);\n            width: 500px;\n            margin: 0 auto;\n          }\n        }\n      </style>\n      <a href=${this.href} class="song-card">\n        <div class="song-card__bottom">\n          <h1>${this.songTitle}</h1>\n          <h3>by ${this.songArtist} &middot; ${this.playCount} plays &middot; ${this.likeCount} likes</h3>\n        </div>\n      </a>\n    `,this.getGif()}async getGif(){const n=await fetch("https://api.giphy.com/v1/gifs/random?api_key=t0Op5B0QkoHsaGndTQdmx5blXoWBscSm&tag=pixel art"),t=await n.json();this.querySelector(".song-card").style.backgroundImage=`url('${t.data.image_url}')`}}window.customElements.define("song-card",o);window.customElements.define("music-player",class extends HTMLElement{async connectedCallback(){this.innerHTML='\n      <style>\n        .music-controls {\n          position: absolute;\n          bottom: 0;\n          right: 0;\n          left: 0;\n          background: black;\n          color: white;\n          box-shadow: 0px 1px 5px #aaa;\n        }\n        .music-controls__buttons {\n          display: flex;\n        }\n        .music-controls__seek-bar {\n          -webkit-appearance: none;\n          -moz-apperance: none;\n          display: block;\n          width: calc(100% - 1rem);\n          height: 2rem;\n          margin: 0.5rem auto 0;\n          background: transparent;\n          border-radius: 5px 5px 0 0;\n          cursor: col-resize;\n        }\n        .music-controls__seek-bar::-webkit-slider-thumb {\n          -webkit-appearance: none;\n          background-color: white;\n          width: 5px;\n          height: 1.5em;\n          border-radius: 5px;\n        }\n        .music-controls__seek-bar::-moz-range-thumb {\n          background-color: white;\n          width: 10px;\n          height: 2em;\n          border-radius: 0;\n          border: 0;\n        }\n        .music-controls__seek-bar::-moz-range-track {\n          display: none;\n          background-color: transparent;\n        }\n        .music-controls__button {\n          flex: 1;\n          padding: 1rem;\n          background: transparent;\n          color: white;\n        }\n        @media screen and (min-width: 600px) {\n          .music-controls {\n            width: 500px;\n            margin: 1rem auto;\n            border-radius: 5px;\n          }\n        }\n      </style>\n      <div class="music-controls">\n        <input class="music-controls__seek-bar" type="range">\n        <div class="music-controls__buttons">\n          <button class="music-controls__button">\n            <i class="material-icons">cloud_download</i>\n          </button>\n          <button class="music-controls__button">\n            <i class="material-icons">skip_previous</i>\n          </button>\n          <button class="music-controls__button">\n            <i class="material-icons">play_circle_filled</i>\n          </button>\n          <button class="music-controls__button">\n            <i class="material-icons">skip_next</i>\n          </button>\n          <button class="music-controls__button">\n            <i class="material-icons">favorite_border</i>\n          </button>\n        </div>\n      </div>\n    '}});class s extends HTMLElement{constructor(){super(),this.currentSong=null,this.playerCanPlay=!1,this.songHistory=[]}connectedCallback(){this.innerHTML='\n      <div class="home-screen__song-container"></div>\n      <music-player />\n    ',this.goToNextSong()}async goToNextSong(){const n="https://google.com",t="Speedcore... (LSDJ Speedcore)",e="A Versus B",s=0,i=0;this.currentSong=new o({href:n,songTitle:t,songArtist:e,playCount:s,likeCount:i});const r=this.querySelector(".home-screen__song-container");r.innerHTML="",r.appendChild(this.currentSong)}}window.customElements.define("home-screen",s);const i=250;class r{static async navigateToScreen(n,t){if(this.isNavigating)return;this.isNavigating=!0;const e=this.getScreen(n,t);if("home"!==n){const e=t?`/${t}`:"";window.history.pushState({resourceId:t},"",`/${n}${e}`)}else window.history.pushState({resourceId:t},"","/");const o="home"===n&&this.isAfterFirstRender;this.isAfterFirstRender=!0;const s=o?"100vw":"-100vw",r=o?"-100vw":"100vw",a=document.getElementsByTagName("main")[0],c=a.firstElementChild;let l=!1;if(c){const t=c.tagName.toLowerCase();(l=t.substring(0,t.indexOf("-"))===n&&"home"===n)||(c.style.transform=`translate(${s})`)}l||(e.style.transform=`translate(${r})`),a.appendChild(e);const d=document.querySelector(".loading-zone");d&&(d.style.display="block");const u=()=>{c&&c.remove(),e.style.transform="",d&&(d.style.display="none"),this.isNavigating=!1};"function"==typeof e.loadData?(await e.loadData(),u()):l?u():setTimeout(()=>u(),i),this.bindLinks()}static bindLinks(){[].slice.call(document.querySelectorAll("a[href]")).concat([].slice.call(document.querySelectorAll("concrete-button[href]"))).forEach(n=>{const t=n;if(-1!==t.getAttribute("href").indexOf("http"))return t.setAttribute("target","_blank"),void t.setAttribute("rel","noopener");"true"!==t.dataset.bound&&(t.dataset.bound="true",t.onclick=(n=>{if(n.metaKey)return;n.preventDefault(),n.stopPropagation();const t=n.currentTarget.getAttribute("href").split("/");let e=t[1];const o=t[2];e=""===e?"home":e,this.navigateToScreen(e,o)}))})}static getScreen(){}}class a extends r{static navigateToScreen(n,t){super.navigateToScreen(n,t),document.getElementById("back-button").style.visibility="home"!==n?"visible":"hidden"}static getScreen(){return new s}}const c=100,l="translate(0, -100vh)",d="translate(0, 0)";class u extends HTMLElement{constructor(n){super(n),this.id=n||void 0,document.body.appendChild(this),this.show()}close(){const n=this.getDialog();n.style.transform=l,setTimeout(()=>{n.close(),this.remove()},c)}getDialog(){return this.querySelector("dialog")}show(){const n=this.getDialog();n.showModal(),n.style.transform=d,this.querySelector(".dialog-close-button").addEventListener("click",()=>this.close())}}window.customElements.define("concrete-dialog",u);class m extends u{async connectedCallback(){this.innerHTML='\n      <dialog>\n        <article>\n          <h1>\n            History\n            <button class="dialog-close-button"><i class="material-icons">close</i></button>\n          </h1>\n          <div class="dialog-content">\n            <p>Aren\'t dialogs cool? ðŸ¦„</p>\n          </div>\n        </article>\n      </dialog>\n    '}}window.customElements.define("history-dialog",m);class h extends u{async connectedCallback(){this.innerHTML='\n      <dialog>\n        <article>\n          <h1>\n            Likes\n            <button class="dialog-close-button"><i class="material-icons">close</i></button>\n          </h1>\n          <div class="dialog-content">\n            <p>Aren\'t dialogs cool? ðŸ¦„</p>\n          </div>\n        </article>\n      </dialog>\n    '}}window.customElements.define("likes-dialog",h);class p extends u{async connectedCallback(){this.innerHTML='\n      <dialog>\n        <article>\n          <h1>\n            Settings\n            <button class="dialog-close-button"><i class="material-icons">close</i></button>\n          </h1>\n          <div class="dialog-content">\n            <p>Aren\'t dialogs cool? ðŸ¦„</p>\n          </div>\n        </article>\n      </dialog>\n    '}}window.customElements.define("settings-dialog",p);class g extends HTMLElement{constructor(n){super(),void 0!==n&&(this.x=n.x,this.y=n.y,this.items=n.items)}connectedCallback(){this.attachShadow({mode:"open"}).innerHTML='\n      <style>\n        :host {\n          display: block;\n          position: relative;\n        }\n        #popover {\n          position: absolute;\n          right: 0;\n          top: 28px;\n          min-width: 10rem;\n          background: white;\n          border-radius: 5px;\n          box-shadow: 0px 1px 5px #aaa;\n          font-size: 0.8em;\n        }\n        ul, li {\n          margin: 0;\n          padding: 0;\n          list-style: none;\n        }\n        li {\n          padding: 1em;\n          cursor: pointer;\n        }\n        li + li {\n          border-top: 1px solid #dfdfdf;\n        }\n      </style>\n      <div id="popover">\n        <slot></slot>\n      </div>\n    ';const n=this.shadowRoot.getElementById("popover");if(this.items){const t=document.createElement("ul");n.append(t),this.items.forEach(n=>{const e=document.createElement("li");e.textContent=n.title,e.addEventListener("click",n.onClick),t.append(e)})}document.addEventListener("click",()=>this.checkBlur())}diconnectedCallback(){document.removeEventListener("click",()=>this.checkBlur())}checkBlur(){this.remove()}}window.customElements.define("concrete-popover",g);const b=()=>{const n=window.location.pathname.split("/");""===n[1]?a.navigateToScreen("home"):a.navigateToScreen(n[1],n[2])};window.onpopstate=(n=>{n.preventDefault(),n.stopPropagation(),b()});const f=document.getElementById("user-button");f.addEventListener("click",n=>{n.stopPropagation();const t=new g({items:[{title:"Likes",onClick:()=>new h},{title:"History",onClick:()=>new m},{title:"Settings",onClick:()=>new p},{title:"Logout",onClick:()=>a.navigateToScreen("logout")}]});f.after(t)}),b()}]);